<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spare Parts Management</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet"
 href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
:root{
  --purple:#6A0DAD;
  --bg:#f4f6fb;
  --odd:#f7f6fe;
  --text:#111827;
}
*{box-sizing:border-box;font-family:Poppins,Inter,system-ui}
body{margin:0;background:var(--bg);color:var(--text)}
.layout{display:flex;min-height:100vh}

.sidebar{
  width:72px;
  background:linear-gradient(180deg,var(--purple),#3b2bd6);
  display:flex;flex-direction:column;
  align-items:center;padding:12px 0
}
.logo{color:#fff;font-weight:700;margin-bottom:24px}
.nav{display:flex;flex-direction:column;gap:18px}
.nav-btn{
  width:42px;height:42px;border-radius:10px;
  border:none;background:transparent;
  color:#c7c9ff;font-size:18px;cursor:pointer
}
.nav-btn.active,.nav-btn:hover{
  background:rgba(255,255,255,.15);color:#fff
}


.main{flex:1}
.header{
  height:64px;background:#fff;
  display:flex;align-items:center;justify-content:center;
  font-weight:700;letter-spacing:.1em;
  box-shadow:0 1px 4px rgba(0,0,0,.08);
  position:relative
}
.header .back{position:absolute;left:16px;cursor:pointer}

.header .user-id{
  position:absolute;right:16px;
  display:flex;align-items:center;gap:8px;
  padding:6px 12px;background:var(--odd);
  border-radius:6px;font-size:14px;color:var(--text)
}

.toolbar{
  display:flex;justify-content:space-between;
  padding:16px 30px
}
.search{
  display:flex;align-items:center;gap:8px;
  background:#fff;border-radius:8px;
  padding:8px 12px;width:280px;
  box-shadow:0 1px 3px rgba(0,0,0,.08)
}
.search input{
  border:none;outline:none;width:100%;
  background:transparent;font-size:15px
}
.actions{display:flex;gap:12px}

.filter-dropdown{
  position:relative;display:inline-block
}
.filter-btn{
  background:transparent;color:#000;
  border:none;padding:8px 16px;border-radius:8px;
  cursor:pointer;font-size:15px;font-weight:600
}
.filter-btn:hover{
  background:rgba(0,0,0,.05)
}
.filter-menu{
  display:none;position:absolute;
  top:100%;right:0;background:#fff;
  border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);
  min-width:180px;z-index:100;margin-top:8px
}
.filter-menu.show{display:block}
.filter-menu label{
  display:flex;align-items:center;padding:10px 12px;
  cursor:pointer;gap:8px;font-size:14px;
  border-bottom:1px solid #eee
}
.filter-menu label:last-child{border-bottom:none}
.filter-menu input[type="radio"]{cursor:pointer}

.card{
  background:#fff;margin:0 30px;
  border-radius:15px;overflow:hidden;
  box-shadow:0 10px 20px rgba(0,0,0,.08)
}

.pagination-controls{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px;border-top:1px solid #eee;
  background:#fff;font-size:14px
}
.pagination-left{display:flex;align-items:center;gap:12px}
.rows-per-page{display:flex;align-items:center;gap:8px}
.rows-per-page select{
  padding:6px 10px;border:1px solid #ddd;
  border-radius:6px;cursor:pointer;font-size:14px
}
.pagination-center{
  display:flex;align-items:center;gap:8px;
  flex:1;justify-content:center;color:#666
}
.pagination-right{display:flex;align-items:center;gap:8px}
.pagination-btn{
  width:32px;height:32px;border-radius:6px;
  border:1px solid #ddd;background:#fff;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  font-size:16px;transition:.2s
}
.pagination-btn:hover:not(:disabled){
  background:var(--purple);color:#fff;border-color:var(--purple)
}
.pagination-btn:disabled{
  opacity:.5;cursor:not-allowed
}
table{width:100%;border-collapse:collapse}
thead th{
  padding:16px;font-size:12px;
  text-transform:uppercase;border-bottom:1px solid #eee;
  text-align:left
}
tbody td{padding:14px 16px;font-size:15px}
tbody tr:nth-child(odd){background:var(--odd)}
td.right{text-align:right}

.status{
  padding:4px 10px;border-radius:999px;
  font-size:12px;font-weight:600
}
.active{background:#e8f5e9;color:#2e7d32}
.inactive{background:#ffebee;color:#c62828}
</style>
</head>

<body>
<div class="layout">

<aside class="sidebar">
  <div class="logo">LOGO</div>
  <nav class="nav">
    <button class="nav-btn active">‚ò∑</button>
    <button class="nav-btn">‚úî</button>
    <button class="nav-btn">üìä</button>
    <button class="nav-btn">‚öô</button>
  </nav>
</aside>

<div class="main">
  <div class="header">
    <div class="back" onclick="history.back()">‚Üê</div>
    SPARE PARTS MANAGEMENT
    <div class="user-id">
      <i class="fa-solid fa-user"></i>
      <span id="userId">USER
      </span>
    </div>
  </div>

  <div class="toolbar">
    <div class="search">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input id="searchInput" placeholder="Search parts...">
    </div>
    <div class="actions">
      <div class="filter-dropdown">
        <button class="filter-btn" id="filterBtn">‚öô Filter</button>
        <div class="filter-menu" id="filterMenu">
          <label>
            <input type="radio" name="statusFilter" value="all" checked> All
          </label>
          <label>
            <input type="radio" name="statusFilter" value="active"> Active
          </label>
          <label>
            <input type="radio" name="statusFilter" value="inactive"> Inactive
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <table>
      <thead>
        <tr>
          <th>Part Name</th>
          <th>Code</th>
          <th>Description</th>
          <th class="right">Price</th>
          <th class="right">Qty</th>
          <th>Seller</th>
          <th>Exp</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
    <div class="pagination-controls">
      <div class="pagination-left">
        <div class="rows-per-page">
          <label for="rowsPerPageSelect">Rows per page:</label>
          <select id="rowsPerPageSelect">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
          </select>
        </div>
      </div>
      <div class="pagination-center">
        <span id="pageInfo">Page 1 of 1</span>
      </div>
      <div class="pagination-right">
        <button class="pagination-btn" id="prevBtn" title="Previous">‚Üê</button>
        <button class="pagination-btn" id="nextBtn" title="Next">‚Üí</button>
      </div>
    </div>
  </div>
</div>
</div>

<script>


const SELLER_NAME = "Alpha Traders";

const rawData = [
  { name:"Alpha Traders", code:"BP-001", desc:"High quality brake pad", price:120, qty:15, exp:"2025-06-15", active:true },
  { name:"Beta Supplies", code:"OF-002", desc:"Premium oil filter", price:35, qty:0, exp:"2025-12-30", active:false },
  { name:"Gamma Parts", code:"CL-44", desc:"Clutch plate assembly", price:250, qty:8, exp:"2026-03-20", active:true },
  { name:"Spark Plug", code:"SP-003", desc:"OEM certified spark plug", price:25, qty:45, exp:"2026-08-10", active:true },
  { name:"Battery", code:"BA-004", desc:"12V car battery", price:280, qty:5, exp:"2027-01-15", active:true },
  { name:"Alternator", code:"AL-005", desc:"Engine alternator", price:450, qty:3, exp:"2026-11-05", active:false },
  { name:"Radiator Hose", code:"RH-006", desc:"Coolant radiator hose", price:55, qty:20, exp:"2025-09-22", active:true },
  { name:"Air Filter", code:"AF-007", desc:"Engine air filter", price:42, qty:32, exp:"2026-04-18", active:true },
  { name:"Water Pump", code:"WP-008", desc:"Engine water pump assembly", price:175, qty:7, exp:"2026-06-30", active:true },
  { name:"Door Lock", code:"DL-009", desc:"Electronic door lock actuator", price:95, qty:12, exp:"2026-10-12", active:false },
  { name:"Fuel Pump", code:"FP-010", desc:"Electric fuel pump module", price:320, qty:4, exp:"2025-07-25", active:true },
  { name:"Window Motor", code:"WM-011", desc:"Power window motor", price:140, qty:9, exp:"2026-02-28", active:true },
  { name:"Suspension Coil", code:"SC-012", desc:"Front suspension coil spring", price:210, qty:6, exp:"2026-05-17", active:true },
  { name:"Timing Belt", code:"TB-013", desc:"Engine timing belt", price:185, qty:11, exp:"2025-08-09", active:false }
];

const data = rawData.map(d=>({
  name: d.name,
  code: d.code,
  desc: d.desc,
  price: d.price,
  qty: d.qty,
  seller: SELLER_NAME,
  exp: d.exp,
  active: d.active
}));


const tableBody = document.getElementById("tableBody");
let filteredData = data;
let statusFilter = "all";
let currentPage = 1;
let rowsPerPage = 10;

function getPaginatedData(dataToRender = filteredData) {
  const startIndex = (currentPage - 1) * rowsPerPage;
  const endIndex = startIndex + rowsPerPage;
  return dataToRender.slice(startIndex, endIndex);
}

function getTotalPages(dataToRender = filteredData) {
  return Math.ceil(dataToRender.length / rowsPerPage);
}

function updatePaginationInfo() {
  const totalPages = getTotalPages();
  document.getElementById("pageInfo").textContent = `Page ${currentPage} of ${totalPages}`;
  document.getElementById("prevBtn").disabled = currentPage === 1;
  document.getElementById("nextBtn").disabled = currentPage === totalPages || totalPages === 0;
}

function renderTable(dataToRender = filteredData) {
  const paginatedData = getPaginatedData(dataToRender);
  tableBody.innerHTML = paginatedData.map(d=>`
<tr>
  <td>${d.name}</td>
  <td>${d.code}</td>
  <td>${d.desc}</td>
  <td class="right">AED ${d.price.toFixed(2)}</td>
  <td class="right">${d.qty}</td>
  <td>${d.seller}</td>
  <td>${d.exp}</td>
  <td>
    <span class="status ${d.active?"active":"inactive"}">
      ${d.active?"Active":"Inactive"}
    </span>
  </td>
</tr>
`).join("");
  updatePaginationInfo();
}

function applyFilters() {
  const searchQuery = document.getElementById("searchInput").value.toLowerCase();
  
  filteredData = data.filter(p => {
    const matchesSearch = p.name.toLowerCase().includes(searchQuery) ||
                         p.code.toLowerCase().includes(searchQuery) ||
                         p.desc.toLowerCase().includes(searchQuery);
    
    const matchesStatus = statusFilter === "all" || 
                         (statusFilter === "active" && p.active) ||
                         (statusFilter === "inactive" && !p.active);
    
    return matchesSearch && matchesStatus;
  });
  
  currentPage = 1;
  renderTable();
}

const searchInput = document.getElementById("searchInput");
searchInput.addEventListener("input", applyFilters);

const rowsPerPageSelect = document.getElementById("rowsPerPageSelect");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

rowsPerPageSelect.addEventListener("change", (e) => {
  rowsPerPage = parseInt(e.target.value);
  currentPage = 1;
  renderTable();
});

prevBtn.addEventListener("click", () => {
  if (currentPage > 1) {
    currentPage--;
    renderTable();
  }
});

nextBtn.addEventListener("click", () => {
  const totalPages = getTotalPages();
  if (currentPage < totalPages) {
    currentPage++;
    renderTable();
  }
});

const filterBtn = document.getElementById("filterBtn");
const filterMenu = document.getElementById("filterMenu");

filterBtn.addEventListener("click", () => {
  filterMenu.classList.toggle("show");
});

document.querySelectorAll('input[name="statusFilter"]').forEach(radio => {
  radio.addEventListener("change", (e) => {
    statusFilter = e.target.value;
    applyFilters();
  });
});

document.addEventListener("click", (e) => {
  if (!e.target.closest(".filter-dropdown")) {
    filterMenu.classList.remove("show");
  }
});

renderTable();

</script>
</body>
</html>
